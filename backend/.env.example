# ─── RAi Platform Backend — Environment Variables ─────────────────────────
# Copy this file to .env and fill in your values.
# All AZURE_* vars default to empty string — the app runs without them
# but compliance AI analysis will be unavailable.

# ─── Project ───────────────────────────────────────────────────────────────
PROJECT_NAME=RAi-Platform

# ─── Security ──────────────────────────────────────────────────────────────
SECRET_KEY=your-secret-key-here

# ─── Database ──────────────────────────────────────────────────────────────
DATABASE_URL=postgresql://user:password@localhost:5432/cyloid_db

# ─── CORS ──────────────────────────────────────────────────────────────────
BACKEND_CORS_ORIGINS=["http://localhost:3000"]

# ─── Keycloak / AD Integration (optional) ─────────────────────────────────
KEYCLOAK_ENABLED=false
KEYCLOAK_SERVER_URL=
KEYCLOAK_REALM=cyloid
KEYCLOAK_CLIENT_ID=cyloid-backend
KEYCLOAK_CLIENT_SECRET=
KEYCLOAK_AD_DEFAULT_ROLE=worker

# ─── Azure OpenAI — Primary LLM Endpoints ─────────────────────────────────
# Comma-separated for round-robin load balancing across multiple Azure resources.
# Example: https://myoai-eastus.openai.azure.com,https://myoai-westus.openai.azure.com
AZURE_OPENAI_ENDPOINTS=
AZURE_OPENAI_API_KEYS=
AZURE_OPENAI_DEPLOYMENT=gpt-4o
AZURE_OPENAI_API_VERSION=2024-10-21

# ─── Azure OpenAI — Fallback Endpoints ─────────────────────────────────────
# Used when primary endpoints return 429 (rate limited) or 5xx errors.
# Typically a cheaper / smaller model pool.
AZURE_OPENAI_FALLBACK_ENDPOINTS=
AZURE_OPENAI_FALLBACK_API_KEYS=
AZURE_OPENAI_FALLBACK_DEPLOYMENT=gpt-4o-mini

# ─── Azure Document Intelligence ──────────────────────────────────────────
# Used for PDF/DOCX text extraction with layout understanding.
# Falls back to simple text extraction for .txt/.csv/.md files.
AZURE_DOC_INTELLIGENCE_ENDPOINT=
AZURE_DOC_INTELLIGENCE_KEY=

# ─── Azure AI Search ──────────────────────────────────────────────────────
# Used for semantic search over document chunks during compliance analysis.
# Falls back to local keyword matching if not configured.
AZURE_SEARCH_ENDPOINT=
AZURE_SEARCH_ADMIN_KEY=
AZURE_SEARCH_INDEX_NAME=financial-docs-index

# ─── Azure AI Search — Semantic Configuration ─────────────────────────────
# Name of the semantic configuration on the search index (for hybrid search).
AZURE_SEARCH_SEMANTIC_CONFIG=financial-docs-semantic

# ─── Compliance Analysis — Tuning ─────────────────────────────────────────
# Hours to keep cached analysis results before expiry.
RESULT_CACHE_TTL_HOURS=48
# Maximum concurrent LLM workers for batch analysis.
MAX_ANALYSIS_WORKERS=4
# Number of questions per batch when running analysis.
ANALYSIS_BATCH_SIZE=5
# Maximum characters of context to send per LLM call.
MAX_CONTEXT_CHARS=12000
